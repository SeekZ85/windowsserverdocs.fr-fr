---
ms.assetid: d7a4d2e1-217d-4ffc-93f0-817149bd9e7f
title: Voies de compromis
description: 
author: billmath
ms.author: billmath
manager: femila
ms.date: 05/31/2017
ms.topic: article
ms.prod: windows-server-threshold
ms.technology: identity-adds
ms.openlocfilehash: 149a3e4bb2ce4558e40425e42ecfdeec2c5dfcb7
ms.sourcegitcommit: 78d8839ccafa9530784cb9e38c3127ed2c215423
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/09/2018
---
# <a name="avenues-to-compromise"></a>Voies de compromis

>S’applique à: Windows Server2016, Windows Server2012R2, Windows Server2012

*La loi numéro sept: le réseau la plus sécurisé est bien gérée.* - [10lois immuables de l’Administration de la sécurité](https://technet.microsoft.com/library/cc722488.aspx)  
  
Dans les organisations qui ont rencontré des événements de compromission catastrophique, évaluations généralement que les organisations ont limitées visibilité sur l’état réel de leurs infrastructures informatiques, qui peuvent différer considérablement de leurs États «comme indiqué». Ces variations introduisent des vulnérabilités qui exposent l’environnement à une compromission, souvent avec peu de risques de découverte jusqu'à ce que la compromission de progression pour le point auquel les pirates efficacement «propriétaire» l’environnement.  
  
Évaluations détaillées de la configuration des services ADDS de ces organisations, les infrastructures à clé publiques (PKI), serveurs, stations de travail, applications, contrôle d’accès (ACL), et autres technologies d’affichage des erreurs de configuration et les vulnérabilités, si mis à jour, peuvent avoir empêché la compromission initiale.  
  
Analyse de la documentation, des processus et procédures informatique identifie les vulnérabilités introduites par des écarts dans les pratiques d’administration qui ont été exploitées par des pirates pour obtenir les privilèges qui ont été utilisés pour compromettre la forêt ActiveDirectory. Une forêt totalement compromise est une dans lequel les attaquants compromettre non seulement des systèmes individuels, des applications ou des comptes d’utilisateur, mais faire remonter leur accès pour obtenir un niveau de privilège dans lequel ils peuvent modifier ou détruire tous les aspects de la forêt. Lorsqu’une installation d’ActiveDirectory a été compromise pour que degré, les pirates peuvent apporter des modifications qui leur permettent de maintenir une présence tout au long de l’environnement ou pire, de détruire le répertoire et les systèmes et les comptes qu’il gère.  
  
Même si un nombre des vulnérabilités très couramment utilisées dans les descriptions qui suivent n’est pas des attaques d’ActiveDirectory, ils permettent aux attaquants d’établir une brèche dans un environnement qui peut être utilisé pour exécuter les attaques de privilège escalade (également appelé une élévation de privilèges) et pour finalement cibler et compromettre les services ADDS.  
  
Cette section de ce document se concentre sur décrivant les mécanismes que les personnes malveillantes utilisent généralement pour accéder à l’infrastructure et finalement pour lancer des attaques par élévation de privilèges. Consultez également les sections suivantes:  
  
-   [Ce qui réduit la Surface d’attaque ActiveDirectory](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md) détaillée des recommandations pour la configuration d’ActiveDirectory sécurisée.  
  
-   [Surveillance des signes de compromission d’ActiveDirectory](../../../ad-ds/plan/security-best-practices/Monitoring-Active-Directory-for-Signs-of-Compromise.md) recommandations pour aider à détecter toute compromission  
  
-   [Planification des compromis](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Planning-for-Compromise.md) approches de haut niveau pour aider à préparer des attaques contre l’infrastructure informatique et perspectives métier  
  
> [!NOTE]  
> Bien que ce document se concentre sur des systèmes ActiveDirectory et de Windows qui font partie d’un domaine ADDS, les pirates rarement concentrent exclusivement ActiveDirectory et de Windows. Dans les environnements avec un mélange de systèmes d’exploitation, les répertoires, les applications et les référentiels de données, il est courant pour trouver que les systèmes autres que Windows ont également été compromis. Cela est particulièrement vrai si les systèmes de fournissent un «pont» entre des environnements Windows et non Windows, tels que les serveurs de fichiers accédé par Windows et UNIX ou Linux les clients, les répertoires qui fournissent des services d’authentification à plusieurs systèmes d’exploitation ou méta-annuaires qui synchronisent les données entre les annuaires disparates.  
>   
> Les services ADDS est ciblé en raison des fonctionnalités de gestion des accès et la configuration centralisées, qu'il fournit non seulement pour les systèmes Windows, mais également à d’autres clients. Tout autre répertoire ou application qui fournit l’authentification et la configuration des services de gestion peut et ciblés par les personnes malveillantes déterminés. Bien que ce document se concentre sur les protections qui peuvent réduire la probabilité d’une compromission d’installations d’ActiveDirectory, chaque organisation qui inclut les ordinateurs non Windows, les référentiels de répertoires, des applications ou des données doivent également préparer pour les attaques contre ces systèmes.  
  
## <a name="initial-breach-targets"></a>Cibles de violation initiale  
Personne ne crée intentionnellement une infrastructure informatique qui expose l’organisation de compromettre. Lorsqu’une forêt ActiveDirectory est construite en premier, il est généralement inchangés et en cours. Passer des années et acquis des nouveaux systèmes d’exploitation et des applications, ils sont ajoutés à la forêt. Comme les avantages de la facilité de gestion ActiveDirectory fournit sont reconnues, plus le contenu est ajouté à l’annuaire, plus de personnes intégrant leurs ordinateurs ou les applications avec les services ADDS et domaines sont mis à jour pour prendre en charge les nouvelles fonctionnalités offertes par les versions plus récentes du système d’exploitation Windows. Que se passe-t-il également au fil du temps, cependant, est que même si une nouvelle infrastructure est ajouté, autres parties de l’infrastructure ne peuvent pas conservées ainsi qu’ils étaient initialement, systèmes et applications fonctionnent correctement et par conséquent ne reçoivent pas attention et organisations commencent à oublier que qu’ils n’ont pas éliminés leur infrastructure hérité. Selon ce que nous voir pour l’évaluation des infrastructures de compromis, les plus anciens, plus volumineuses et complexes l’environnement, plus il est probable qu’il existe plusieurs instances des vulnérabilités très couramment utilisées.  
  
Quelle que soit la motivation de la personne malveillante, la plupart des violations de sécurité démarrer avec la compromission d’un ou deux systèmes à la fois. Ces événements initiales, ou les points d’entrée dans le réseau, souvent tirer parti des vulnérabilités qui pourraient avoir été résolues, mais qui n’étaient pas. Le [2012données violation enquêtes rapport (DBIR)](http://www.verizonbusiness.com/resources/reports/rp_data-breach-investigations-report-2012_en_xg.pdf), qui est une étude annuelle produite par l’équipe de risques Verizon en collaboration avec un nombre d’organismes de sécurité nationale et d’autres sociétés, indiquant que 96% des attaques étaient «pas très difficile», et que «97% de violations étaient évitable par le biais de contrôles simples ou intermédiaires.» Ces résultats peuvent être une conséquence directe des vulnérabilités courantes qui suivent.  
  
### <a name="gaps-in-antivirus-and-antimalware-deployments"></a>Lacunes dans les Antivirus et anti-programme malveillant déploiements  
*La loi numéro huit: un scanneur contre les programmes malveillants obsolètes est légèrement supérieure à aucune analyse uniquement du tout.* - [Dix immuables de sécurité (Version2.0)](https://technet.microsoft.com/security/hh278941.aspx)  
  
Analyse des déploiements de logiciels antivirus et anti-programme malveillant des organisations de révèle souvent un environnement dans lequel la plupart des stations de travail sont configurés avec un logiciel antivirus et anti-programme malveillant est activé et en cours. Les exceptions sont généralement des stations de travail qui se connectent rarement pour les appareils d’entreprise d’environnement ou de l’employé pour les antivirus et anti-programme malveillant les logiciels peuvent être difficiles à déployer, configurer et mettre à jour.  
  
Populations de serveur, toutefois, sont généralement que régulièrement une protection moindre dans de nombreux environnements compromis. Comme indiqué dans le [examens de violation de données 2012](http://www.verizonbusiness.com/resources/reports/rp_data-breach-investigations-report-2012_en_xg.pdf)94% des données de tous les serveurs impliqués, risque de compromettre qui représente une augmentation de 18% de l’exercice précédent et 69 pour cent d’attaques intégrée contre les programmes malveillants. Dans le but de serveur, il n’est pas rare de trouver que les installations de logiciels antivirus et anti-programme malveillant sont configurées de façon incohérente, obsolète, mal configurées ou même désactivées. Dans certains cas, le logiciel antivirus et anti-programme malveillant est désactivé par le personnel d’administration, mais dans d’autres cas, les personnes malveillantes désactiver le logiciel après compromettre un serveur via d’autres vulnérabilités. Lorsque le logiciel antivirus et anti-programme malveillant est désactivé, les pirates puis plantes contre les programmes malveillants sur le serveur et vous concentrer sur la propagation des compromis entre le nombre de serveurs.  
  
Il est important non seulement pour vous assurer que vos systèmes sont protégés avec la protection contre les programmes malveillants en cours, complète, mais également à analyser les systèmes pour la désactivation ou la suppression du logiciel antivirus et anti-programme malveillant et à redémarrer automatiquement protection lorsqu’il est désactivé manuellement. Même si aucun logiciel antivirus et anti-programme malveillant ne peut garantir la prévention et la détection de toutes les infections, une implémentation antivirus et anti-programme malveillant est correctement configurée et déployée peut réduire les risques d’infection.  
  
### <a name="incomplete-patching"></a>Mise à jour corrective incomplète  
*La loi du nombre de trois: Si vous ne conservez avec les correctifs de sécurité, votre réseau n’est pas vôtre de longue durée.* - [10lois immuables de l’Administration de la sécurité](https://technet.microsoft.com/library/cc722488.aspx)  
  
Microsoft publie des bulletins de sécurité le deuxième mardi de chaque mois, bien que dans de rares occasions les mises à jour de sécurité sont publiées entre les mises à jour de sécurité mensuelles (ceux-ci sont également appelés mises à jour «hors-bande») lorsque la vulnérabilité est déterminée à présenter un risque d’urgent pour les systèmes clients. Si une petite entreprise configure ses ordinateurs Windows pour utiliser Windows Update pour gérer le système et l’application de correctifs ou une grande organisation utilise un logiciel de gestion tels que SystemCenter ConfigurationManager (SCCM) pour déployer les correctifs en fonction des plans détaillées hiérarchiques, de nombreux clients leurs infrastructures de Windows de correctif relativement voulu.  
  
Toutefois, plusieurs infrastructures incluent uniquement les ordinateurs Windows et les applications Microsoft, et dans les environnements compromis, il est courant pour trouver que stratégie de gestion des correctifs de l’organisation contient des espaces. Systèmes Windows dans ces environnements sont corrigés incohérente. Les systèmes d’exploitation non Windows sont corrigés sporadiquement, si du tout. Commerciales applications (COTS) prêts à l’emploi contiennent des vulnérabilités qui correctifs existent, mais n’ont pas été appliquées. Appareils de mise en réseau sont souvent configurés avec les informations d’identification par défaut et aucun microprogramme ans après leur installation des mises à jour. Applications et les systèmes d’exploitation n’est plus pris en charge par leurs fournisseurs sont souvent conservés en cours d’exécution, malgré le fait qu’ils ne sont plus peuvent être corrigés, contre les vulnérabilités. Chacun de ces systèmes non corrigées représente un autre point d’entrée potentiel des personnes malveillantes.  
  
L’utiliser les ressources d’informatique a été introduit des problèmes supplémentaires dans cet employé propriétaire périphériques sont utilisés pour accéder aux données personnels d’entreprise, et l’organisation ne peut avoir peu à aucun contrôle sur la mise à jour corrective et la configuration des périphériques personnels des employés. Matériel de l’entreprise est généralement fourni avec les options de configuration de l’entreprise et des fonctionnalités de gestion, au prix inférieur choix de sélection de personnalisation et les périphériques individuelle. Matériel axées sur employé offre un plus large éventail de fabricants, fournisseurs, les fonctionnalités de sécurité matériel, les fonctionnalités de sécurité de logiciels, des fonctionnalités de gestion et options de configuration, et plusieurs fonctionnalités d’entreprise peuvent être absentes complètement.  
  
#### <a name="patch-and-vulnerability-management-software"></a>Correctifs et logiciel de gestion des vulnérabilités  
Si un système de gestion des correctifs efficace est en place pour les systèmes Windows et les applications Microsoft, la partie de la surface d’attaque qui créent des vulnérabilités non corrigées a été résolue. Toutefois, à moins que les systèmes autres que Windows, applications non-Microsoft, infrastructure réseau et les appareils des employés sont également mis à jour sur les correctifs et autres, l’infrastructure reste vulnérable. Dans certains cas, fournisseur de l’application peut offrir des fonctionnalités de mise à jour automatique; dans d’autres, il peut être nécessaire de concevoir une approche pour récupérer et appliquer des correctifs et autres correctifs régulièrement.
  
### <a name="outdated-applications-and-operating-systems"></a>Systèmes d’exploitation et les Applications obsolètes  
*«Vous ne peuvent pas attendre un système d’exploitation de six ans pour vous protéger contre une attaque de six mois-vieux».* -Informations sécurité professionnel de 10ans d’expérience de sécuriser les installations d’entreprise  
  
Bien que «obtenir en cours, qu’il reste valide» peut paraître comme une expression marketing, les anciens systèmes d’exploitation et applications créent risque dans de nombreuses organisations infrastructures informatiques. Un système d’exploitation qui a été publié en 2003 peut toujours être pris en charge par le fournisseur et fourni avec les mises à jour pour les vulnérabilités d’adresse, mais que le système d’exploitation peut ne pas contenir des fonctionnalités de sécurité ajoutées dans les versions plus récentes du système d’exploitation. D’anciens systèmes peuvent nécessiter même affaiblir de certaine la configuration de sécurité de domaine ActiveDirectory pour prendre en charge les fonctionnalités de moindre de ces ordinateurs.  
  
Les applications qui ont été écrites pour utiliser les protocoles d’authentification hérité par les fournisseurs qui ne sont plus prenez en charge l’application généralement ne peut pas être remaniées pour prendre en charge les mécanismes d’authentification plus forte. Toutefois, domaine d’ActiveDirectory d’une organisation peut toujours être configuré pour stocker les hachages LAN Manager ou le cryptage réversible des mots de passe pour prendre en charge ces applications. Les applications écrites avant l’introduction des systèmes d’exploitation plus récents peuvent ne pas fonctionnent correctement ou sur des systèmes d’exploitation en cours, demander aux organisations de gérer les systèmes plus anciens et les plus anciens et dans certains cas, le matériel complètement non pris en charge et le logiciel.  
  
Même dans les cas où les organisations ont mis à jour leurs contrôleurs de domaine Windows Server2012, Windows Server2008R2 ou Windows Server2008, il est courant de trouver des parties importantes du membre remplissage de serveur pour exécuter Windows Server2003 (qui n’est plus prise en charge standard), ou même Windows2000 Server ou WindowsNTServer4.0 (qui sont complètement non pris en charge). Plus une organisation gère les systèmes de chronologie, plus les différences entre les ensembles de fonctionnalités se développe et plus probable est que les systèmes de production sera non pris en charge. En outre, plus une forêt ActiveDirectory est conservée, plus nous observer que les applications et les systèmes existants sont ignorées dans les plans de mise à niveau. Cela peut signifier qu’un seul ordinateur exécutant une seule application peut introduire des vulnérabilités de domaine ou forêt car ActiveDirectory est configuré pour prendre en charge ses protocoles hérités et les mécanismes d’authentification.  
  
Pour éliminer les applications et les systèmes existants, vous devez tout d’abord vous concentrer sur l’identification et les catalogues, puis de déterminer s’il faut mettre à niveau ou remplacer l’application ou un ordinateur hôte. Bien qu’il peut être difficile de trouver des remplacements pour les applications spécialisées pour lesquels il n’est ni prise en charge, ni une mise à niveau, vous ne pourrez pas tirer parti d’un concept appelé «destruction creative» pour remplacer l’application héritée par une nouvelle application qui fournit les fonctionnalités nécessaires. [Planification des compromis](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Planning-for-Compromise.md) est décrit plus en détail dans «Planification des compromis» plus loin dans ce document.  
  
### <a name="misconfiguration"></a>Configuration incorrecte  
*La loi du nombre de quatre: ne très utile pour installer les correctifs de sécurité sur un ordinateur qui n’a jamais sécurisé tout d’abord.* - [10lois immuables de l’Administration de la sécurité](https://technet.microsoft.com/library/cc722488.aspx)  
  
Même dans les environnements où les systèmes sont généralement conservés actuelles et corrigées, nous couramment identifier les lacunes ou des erreurs de configuration dans le système d’exploitation, applications s’exécutant sur des ordinateurs et ActiveDirectory. Certaines erreurs de configuration exposent uniquement l’ordinateur local pour compromettre, mais après qu’un ordinateur est «propriétaire», les personnes malveillantes se concentrent généralement sur propager davantage des compromis entre les autres systèmes et finalement à ActiveDirectory. Voici quelques-uns des zones courantes dans lequel nous identifier les configurations qui présentent des risques.  
  
#### <a name="in-active-directory"></a>Dans ActiveDirectory  
Les comptes dans ActiveDirectory qui sont généralement ciblés par les personnes malveillantes sont ceux qui sont membres des groupes dotés de privilèges plus élevés, tels que les membres des groupes d’Administrateurs (BA) intégrées dans ActiveDirectory, administrateurs de l’entreprise (EA) ou Admins du domaine (DA). L’appartenance à ces groupes doit être réduite au plus petit nombre de comptes possible afin que la surface d’attaque de ces groupes est limitée. Il est même possible éliminer l’appartenance aux «permanente» dans ces groupes privilégiés; autrement dit, vous pouvez implémenter des paramètres qui vous permettent de remplir temporairement ces groupes uniquement lorsque ses privilèges au niveau du domaine et de forêt sont nécessaires. Lorsque les comptes dotés de privilèges élevés sont utilisés, ils doivent être utilisées uniquement sur désigné, sécurisés systèmes tels que les contrôleurs de domaine ou hôtes d’administration sécurisés. Des informations détaillées pour aider à implémenter toutes ces configurations sont fournies dans [ce qui réduit la Surface d’attaque ActiveDirectory](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md).  
  
Lorsque nous évaluer l’appartenance des groupes privilégiés plus élevés dans ActiveDirectory, nous trouver couramment excessive d’appartenance dans les trois des groupes plus privilégié. Dans certains cas, les organisations ont des dizaines, voire des centaines de comptes dans les groupes DA. Dans d’autres cas, les organisations placent comptes directement dans le groupe Administrateurs intégré, penser que ce groupe est «moins privilégié» que le groupe DAs. Il n’est pas le cas. Il est fréquent un petit nombre de membres permanents du groupe EA dans le domaine racine de forêt, malgré le fait que des privilèges EA sont rarement et temporairement nécessaires. Recherche de compte d’administration quotidiennes d’un utilisateur de l’informatique dans toutes les trois groupes est également courant, même s’il s’agit d’une configuration efficacement redondante. Comme décrit dans [ce qui réduit la Surface d’attaque ActiveDirectory](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md), si un compte est membre permanent d’un de ces groupes ou de tous les cas, le compte peut être utilisé pour compromettre et même détruire l’environnement ADDS et les systèmes et les comptes gérés par celui-ci. Recommandations pour la configuration sécurisée et l’utilisation des comptes privilégiés dans ActiveDirectory sont fournies dans [ce qui réduit la Surface d’attaque ActiveDirectory](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md).  
  
#### <a name="on-domain-controllers"></a>Sur les contrôleurs de domaine  
Lorsque nous évaluer des contrôleurs de domaine, nous avons souvent de trouver les trouver configuré et géré pas différemment des serveurs membres. Contrôleurs de domaine exécutent parfois les mêmes applications et des utilitaires installés sur les serveurs membres, pas dans la mesure où ils sont nécessaires sur les contrôleurs de domaine, mais étant donné que les applications qui font partie d’une version standard. Ces applications peuvent fournir les fonctionnalités minimales sur les contrôleurs de domaine mais d’accroître considérablement la surface d’attaque en exigeant le paramètre de configuration qui ouvrir des ports, créer des comptes de service dotés de privilèges élevés ou accorder l’accès au système par les utilisateurs qui doivent se connectent pas à un contrôleur de domaine à des fins autres que l’authentification et l’application de la stratégie de groupe. Dans certaines violations, personnes malveillantes ont utilisé des outils qui étaient déjà installés sur les contrôleurs de domaine non seulement pour accéder aux contrôleurs de domaine, mais pour modifier ou d’endommager la base de données ADDS.  
  
Lorsque nous extraire les paramètres de configuration d’Internet Explorer sur les contrôleurs de domaine, nous trouvons que les utilisateurs ont ouvert une session avec les comptes qui ont des niveaux élevés de privilèges dans ActiveDirectory et ont utilisé les comptes pour accéder à Internet et intranet à partir de contrôleurs de domaine. Dans certains cas, les comptes d’ont configuré les paramètres de Internet Explorer sur les contrôleurs de domaine pour autoriser le téléchargement d’Internet contenu et utilitaires gratuits ont été téléchargés à partir de sites Internet et installés sur les contrôleurs de domaine. Configuration de sécurité renforcée d’Internet Explorer est activée pour les utilisateurs et administrateurs par défaut, mais nous avons souvent observer qui est désactivée pour les administrateurs. Lorsqu’un compte à privilèges élevés accède à Internet et télécharge du contenu à n’importe quel ordinateur, cet ordinateur est menacer grave. Lorsque l’ordinateur est un contrôleur de domaine, l’intégralité de l’installation ADDS est menacer.  
  
##### <a name="protecting-domain-controllers"></a>Protection des contrôleurs de domaine  
Contrôleurs de domaine doivent être traités comme des composants d’infrastructure critiques, sécurisés de façon plus stricte et configurés de façon plus rigide que le fichier, d’impression et les serveurs d’applications. Contrôleurs de domaine ne doivent pas exécuter tout logiciel qui n’est pas requis pour le contrôleur de domaine de la fonction ou ne protège pas contre les attaques, le contrôleur de domaine. Contrôleurs de domaine ne doivent pas être autorisés à accéder à Internet, et les paramètres de sécurité doivent être configurés et appliqués par les objets de stratégie de groupe (GPO). Fournit des recommandations détaillées pour l’installation en toute sécurité, la configuration et la gestion des contrôleurs de domaine dans [sécurisation de contrôleurs de domaine contre les attaques](../../../ad-ds/plan/security-best-practices/Securing-Domain-Controllers-Against-Attack.md).  
  
#### <a name="within-the-operating-system"></a>Dans le système d’exploitation  
*La loi numéro deux: si une personne malintentionnée peut modifier le système d’exploitation sur votre ordinateur, il n’est pas votre ordinateur plus.* - [Dix immuables de sécurité (Version2.0)](https://technet.microsoft.com/security/hh278941.aspx)  
  
Bien que certaines organisations créer des configurations de base pour les serveurs de types différents et autorisant limitée de personnalisation du système d’exploitation après son installation, l’analyse des environnements compromis découvre souvent grand nombre de serveurs déployés de manière ad hoc et configuré manuellement et séparément. Configurations entre deux serveurs effectuer la même fonction peuvent être complètement différentes, où aucun serveur est configuré de manière sécurisée. À l’inverse, lignes de base de configuration du serveur peuvent être appliquées de manière cohérente, mais également de manière cohérente mal configurés; autrement dit, les serveurs sont configurés de manière qui crée la vulnérabilité même sur tous les serveurs d’un type donné. Une configuration incorrecte inclut pratiques telles que la désactivation des fonctionnalités de sécurité, accordez des droits excessives et des autorisations aux comptes (notamment les comptes de service), utilisez des informations d’identification locales identiques sur plusieurs systèmes et permettant d’installation d’applications non autorisées et d’utilitaires qui créent des vulnérabilités de leurs propres.  
  
##### <a name="disabling-security-features"></a>La désactivation des fonctionnalités de sécurité  
Les organisations désactivent parfois le pare-feu Windows avec sécurité avancée (WFAS) hors une croyance que WFAS est difficile à configurer ou nécessite une configuration beaucoup de travail. Toutefois, en commençant par Windows Server2008, lorsqu’un rôle ou une fonctionnalité est installée sur un serveur, il est configuré par défaut avec des privilèges minimum requis pour le rôle ou la fonctionnalité de la fonction et le pare-feu Windows est automatiquement configuré pour prendre en charge le rôle ou une fonctionnalité. En désactivant WFAS (et ne pas à l’aide d’un autre pare-feu d’hôte à la place), les organisations augmente la surface d’attaque de l’environnement Windows. Pare-feu de périmètre fournissent une protection contre les attaques qui ciblent directement un environnement à partir d’Internet, mais ils ne fournissent aucune protection contre les attaques qui exploitent les autres vecteurs d’attaque comme [de téléchargement](https://www.microsoft.com/security/sir/glossary/drive-by-download-sites.aspx) attaques ou les attaques lancées à partir d’autres systèmes sur l’intranet de compromis.  
  
Paramètres de contrôle de compte d’utilisateur sont parfois désactivés sur les serveurs, car le personnel administratif trouver les invites contraignant. Bien que [article du Support Microsoft2526083](https://support.microsoft.com/kb/2526083) décrit les scénarios dans lesquels UAC peut être désactivé sur Windows Server, sauf si vous exécutez un serveur d’installation de base (où UAC est désactivée par conception), vous ne devez pas désactiver UAC sur des serveurs sans une attention particulière et de la recherche.  
  
Dans d’autres cas, les paramètres du serveur sont configurés pour moins sécurisés valeurs dans la mesure où les organisations appliquent les paramètres de configuration de serveur obsolètes vers de nouveaux systèmes d’exploitation, telles que l’application des lignes de base de Windows Server2003 sur des ordinateurs exécutant Windows Server2012, Windows Server2008R2 ou Windows Server2008, sans modifier les lignes de base pour refléter les modifications dans le système d’exploitation. Au lieu d’effectuer l’ancien serveur lignes de base de nouveaux systèmes d’exploitation, lors du déploiement d’un nouveau système d’exploitation, passez en revue les paramètres de configuration pour vous assurer que les paramètres implémentés sont applicables et appropriée pour le nouveau système d’exploitation et les modifications de sécurité.  
  
##### <a name="granting-excessive-privilege"></a>L’octroi d’un privilège excessif  
Dans presque tous les environnements que nous avons évaluée, un privilège excessif est accordé aux comptes locaux et basés sur un domaine sur les systèmes Windows. Les utilisateurs reçoivent des droits d’administrateur local sur leurs stations de travail, les serveurs membres exécutent les services qui sont configurés avec des droits au-delà de ce qu’ils doivent fonctionner et des groupes d’administrateurs locaux tous les serveurs contiennent des dizaines ou centaines voire local et comptes de domaine. Compromission d’un seul compte privilégié sur un ordinateur aux personnes malveillantes de compromettre les comptes de chaque utilisateur et un service qui se connecte à l’ordinateur et récolte et tirer parti des informations d’identification pour propager le compromis à d’autres systèmes.  
  
Bien que pass-the-hash (PTH) et autres attaques de vol d’informations d’identification sont omniprésents aujourd'hui, que car il est disponible gratuitement outils qui facilite et faciles à extraire les informations d’identification des autres comptes privilégiés lorsqu’une personne malveillante a accédé au niveau de l’administrateur ou du système à un ordinateur. Même sans outils qui permet de regrouper les informations d’identification de sessions d’ouverture de session, une personne malveillante avec un accès privilégié à un ordinateur peut installer tout aussi facilement les enregistreurs de capturer les frappes de touches, captures d’écran et le contenu du Presse-papiers. Un attaquant avec un accès privilégié à un ordinateur peut désactiver le logiciel anti-programme malveillant, installer les rootkits, modifier les fichiers protégés ou installer des logiciels malveillants sur l’ordinateur qui automatise les attaques ou Active un serveur dans un [de téléchargement](https://www.microsoft.com/security/sir/glossary/drive-by-download-sites.aspx) hôte.  
  
Varient tactiques utilisées pour étendre une violation au-delà d’un seul ordinateur, mais la clé à la propagation des compromis est l’acquisition de l’accès à d’autres systèmes dotés de privilèges élevés. En réduisant le nombre de comptes avec un accès privilégié à n’importe quel système, vous réduisez la surface d’attaque non seulement de cet ordinateur, mais la probabilité d’une personne malveillante récolte précieuses informations d’identification de l’ordinateur.  
  
##### <a name="standardizing-local-administrator-credentials"></a>La normalisation des informations d’identification d’administrateur Local  
Il a été long architectes d’experts en sécurité en tant que de déterminer s’il existe valeur renommer les comptes d’administrateur locales sur les ordinateurs Windows. Ce qui est réellement important sur les comptes d’administrateur locales est s’ils sont configurés avec le même nom d’utilisateur et mot de passe sur plusieurs ordinateurs.  
  
Si le compte administrateur local est nommé pour la même valeur entre les serveurs et le mot de passe affecté au compte est également configuré avec la même valeur, les pirates peuvent extraire des informations d’identification du compte sur un ordinateur sur au niveau du système ou un administrateur accès a été obtenu. La personne malveillante ne doit pas compromettre initialement le compte administrateur; ils doivent uniquement compromettre le compte d’un utilisateur qui est membre du groupe Administrateurs local ou d’un compte de service qui est configuré pour s’exécuter en tant que LocalSystem ou avec des privilèges d’administrateur. La personne malveillante peut ensuite extraire les informations d’identification pour le compte administrateur et relire ces informations d’identification dans les ouvertures de session réseau à d’autres ordinateurs sur le réseau.  
  
Dans la mesure où un autre ordinateur dispose d’un compte local avec le même nom d’utilisateur et mot de passe (ou hachage de mot de passe) en tant que les informations d’identification de compte sont présentées, la tentative d’ouverture de session réussit et la personne malveillante obtienne un accès privilégié à l’ordinateur ciblé. Dans les versions actuelles de Windows, le compte administrateur intégré est [désactivé par défaut](https://technet.microsoft.com/library/cc753450.aspx), mais dans les systèmes d’exploitation, le compte est activé par défaut.  
  
> [!NOTE]  
> Certaines organisations ont configuré intentionnellement des comptes d’administrateur locales pour être activée dans l’idée que cette procédure fournit un «basculement» dans le cas où tous les autres comptes privilégiés sont verrouillés hors d’un système. Toutefois, même si le compte administrateur local est désactivé et il en existe pas d’autres comptes disponibles que vous peuvent activer le compte ou ouvrez une session sur le système avec des privilèges d’administrateur, le système peut être démarré en mode sans échec et le compte administrateur local intégré peut être réactivé, comme décrit dans [article du Support Microsoft814777](https://support.microsoft.com/kb/814777). En outre, si le système applique toujours correctement les objets stratégie de groupe, un objet de stratégie de groupe peut être modifiée pour (temporairement) réactiver le compte d’administrateur, ou les groupes restreints peuvent être configurés pour ajouter un compte de domaine au groupe Administrateurs local. Réparations peuvent être effectuées et le compte d’administrateur peut à nouveau être désactivé. Pour empêcher efficacement une compromission latérale qui utilise d’identification administrateur locale intégrée, les mots de passe et les noms d’utilisateur unique doivent être configurés pour les comptes administrateur locaux. Pour déployer des mots de passe uniques pour les comptes administrateur locaux via un objet de stratégie de groupe, voir [Solution pour la gestion de mot de passe du compte administrateur intégré via un GPO](https://technet.microsoft.com/mt227395.aspx) sur technet.  
  
##### <a name="permitting-installation-of-unauthorized-applications"></a>Autoriser l’Installation d’Applications non autorisées  
*Un numéro de la loi: Si une personne malintentionnée peut vous convaincre d’exécuter son programme sur votre ordinateur, il n’est uniquement votre ordinateur plus.* - [Dix immuables de sécurité (Version2.0)](https://technet.microsoft.com/security/hh278941.aspx)  
  
Si une organisation déploie des paramètres de ligne de base cohérente entre les serveurs, l’installation d’applications qui ne font pas partie du rôle défini d’un serveur ne doit pas être autorisée. En autorisant à installer des logiciels qui ne fait pas partie de la fonctionnalité d’un serveur désigné, les serveurs sont exposés aux accidentelle ou malveillante installation du logiciel qui augmente la surface d’attaque du serveur, qui présente des vulnérabilités des applications ou entraîne une instabilité du système.  
  
#### <a name="applications"></a>Applications  
Comme indiqué précédemment, les applications sont souvent installées et configurées pour utiliser des comptes disposant de que privilèges plus que l’application a besoin. Dans certains cas, la documentation d’application spécifie que les comptes de service doivent être membres du groupe d’administrateurs local d’un serveur ou doivent être configurés pour s’exécuter dans le contexte de privilèges LocalSystem. Il s’agit souvent pas car l’application requiert ces droits, mais parce que la détermination des droits et des autorisations besoin de comptes de service d’une application nécessite investissement en plus de temps et d’efforts. Si une application ne s’installe pas avec les privilèges minimaux requis pour l’application, et il a configuré les composants pour fonctionner, le système est exposé à des attaques qui exploitent des privilèges d’application sans toute attaque contre le système d’exploitation lui-même.  
  
### <a name="lack-of-secure-application-development-practices"></a>Manque de méthodes de développement d’applications sécurisées  
Il existe une infrastructure pour prendre en charge les charges de travail métier. Lorsque ces charges de travail sont implémentées dans des applications personnalisées, il est essentiel de s’assurer que les applications développées à l’aide des méthodes conseillées. Analyse des causes d’incidents entreprise révèle souvent qu’une compromission initiale est effectuée par le biais de personnalisé applications notamment ceux qui sont Internet face. La plupart de ces compromis est réalisée via la compromission d’attaques bien connues telles que l’injection SQL (SQLi) et les attaques inter-site (XSS).  
  
Injection SQL est une vulnérabilité d’application qui autorise l’entrée définie par l’utilisateur à modifier une instruction SQL qui est transmise à la base de données pour l’exécution. Cette entrée peut être fournie via un champ de l’application, un paramètre (par exemple, la chaîne de requête ou un cookie) ou d’autres méthodes. Le résultat de cette injection est que l’instruction SQL fournie à la base de données est radicalement différente de celle quels le développeur prévu. Prenez, par exemple, une requête courants utilisée pour l’évaluation d’une combinaison de nom dans le mot de passe utilisateur:  
  
`SELECT userID FROM users WHERE username = 'sUserName' AND password = 'sPassword'`  
  
Lorsque cela est reçue par le serveur de base de données, il demande au serveur de rechercher par le biais de la table des utilisateurs et renvoyer les enregistrements de nom d’utilisateur dont le nom d’utilisateur et mot de passe correspondent à celles fournies par l’utilisateur (sans doute via un formulaire de connexion d’un certain type). Naturellement l’intention du développeur est dans ce cas pour retourner uniquement un enregistrement valide si un nom d’utilisateur et un mot de passe peuvent être fournis par l’utilisateur. Si un est incorrect, le serveur de base de données sera impossible de trouver un enregistrement correspondant et renvoyer un résultat vide.  
  
Le problème se produit lorsqu’une personne malveillante effectue une opération inattendue telles que la fourniture de leur propres SQL à la place des données valides. Dans la mesure où SQL est interprété à la volée par le serveur de base de données, le code injecté serait traité comme si le développeur a placer dans lui-même. Par exemple, si la personne malveillante entré **administrateur** pour l’ID utilisateur et **xyz** ou **1 = 1** comme mot de passe, l’instruction qui en résulte traitée par la base de données serait:  
  
`SELECT userID FROM users WHERE username = 'administrator' AND password = 'xyz' OR 1=1`  
  
Lorsque cette requête est traitée par le serveur de base de données, toutes les lignes dans le tableau apparaîtront dans la requête, car 1 = 1 aura toujours la valeur True, donc que peu importe si le nom d’utilisateur correct et un mot de passe est altéré ou fourni. Dans la plupart des cas il en résulte que l’utilisateur s’être connecté en tant que le premier utilisateur dans la base de données de l’utilisateur; dans la plupart des cas, il s’agit de l’utilisateur administratif.  
  
En plus simplement ouverture de session, les instructions SQL mal formées comme cela peut être utilisée pour ajouter, supprimer, ou modifier des données ou déplacer même ensemble de tables (supprimer) à partir d’une base de données. Dans les cas extrêmes où SQLi est combiné avec un privilège excessif, les commandes de système d’exploitation peuvent être exécutées pour activer la création de nouveaux utilisateurs, pour télécharger les outils d’attaque, ou pour toutes les autres actions de l’attaquant.  
  
Dans les scripts inter-sites, la vulnérabilité est introduite dans la sortie de l’application. Une attaque commence par une personne malveillante fournit les données mal formées à l’application, mais dans ce cas les données mal formées sont sous la forme de code de script (par exemple, JavaScript) qui sera exécutée par le navigateur de la victime. Exploiter une vulnérabilité XSS un attaquant peut exécuter des fonctions de l’application cible dans le contexte de l’utilisateur qui a lancé le navigateur. Attaques XSS sont EFFECTUES généralement par un courrier électronique anti-hameçonnage inciter l’utilisateur à cliquer sur un lien qui se connecte à l’application et exécute le code d’attaque.  
  
XSS est souvent exploitée dans des scénarios de commerce électronique où un attaquant peut effectuer des achats ou transférer de l’argent dans le contexte de l’utilisateur exploité et opérations bancaires en ligne. Dans le cas d’une attaque ciblée sur une application de gestion d’identité basée sur le web personnalisée, elle peut permettre à une personne malveillante créer leurs propres identités, modifier les droits et autorisations et entraîner une compromission systémique.  
  
Bien qu’une description détaillée des scripts intersites et injection SQL est en dehors de la portée de ce document, le [ouvrir Web Application sécurité projet (OWASP avoir)](https://www.owasp.org/index.php/Main_Page) publie un top 10 liste au sein de manière approfondie les vulnérabilités et les contre-mesures.  
  
Quel que soit le placement de la sécurité de l’infrastructure, si mal conçues et écrites les applications sont déployées dans cette infrastructure, l’environnement est établie vulnérable aux attaques. Infrastructures même bien sécurisés ne peut pas fournissent souvent des contre-mesures efficaces pour ces attaques de l’application. Pour résoudre ce problème, les applications mal conçues peuvent nécessiter que les comptes de service bénéficier d’autorisations excessives de l’application de la fonction.  
  
Le cycle de vie de développement sécurité Microsoft (SDL) est un ensemble de contrôles de structure de processus permettant d’améliorer le début de sécurité au début de la configuration requise pour la collecte et l’extension dans le cycle de vie de l’application jusqu'à ce qu’il est retiré. Cette intégration des contrôles de sécurité efficace n’est pas seulement critique en termes de sécurité, il est essentiel de s’assurer que la sécurité des applications est le coût et planifier efficace. Évaluer une application pour les problèmes de sécurité lorsqu’il est efficace de code complet, les organisations doivent prendre des décisions concernant la sécurité des applications uniquement avant ou même après que l’application a été déployée. Une organisation peut choisir afin de résoudre des défauts de l’application avant de déployer l’application en production, entraîner de coûts et les retards, ou l’application peut être déployée en production avec des failles de sécurité connus, l’organisation de compromettre d’exposer.  
  
Certaines organisations placent le coût total de corriger un problème de sécurité dans le code de production supérieure à 10000$ par le problème, et les applications développées sans un effet SDL peuvent moyenne plus de dix problèmes à gravité élevée par 100000lignes de code. Dans les applications de grande taille, les coûts réaffecter rapidement. En revanche, de nombreuses sociétés définir un banc d’essai de moins d’un problème par 100000lignes de code à l’étape de révision de code final du SDL et objectif de zéro problèmes dans les applications à haut risque en production.  
  
Implémentation du SDL améliore la sécurité en incluant les exigences de sécurité au début de la collecte des exigences et conception d’une application fournit pour les applications à haut risque; de modélisation des menaces nécessite une formation efficace et surveillance de développeurs. et nécessite effacer, code cohérente normes et pratiques. L’effet net d’un SDL est des améliorations considérables dans la sécurité des applications tout en réduisant le coût pour développer, déployer, gérer et mettre hors service d’une application. Même si une présentation détaillée de la conception et l’implémentation de SDL sont abordée dans ce document, reportez-vous à la [MicrosoftSecurity Development Lifecycle](https://www.microsoft.com/security/sdl/default.aspx) pour obtenir des instructions détaillées et des informations.  
  


