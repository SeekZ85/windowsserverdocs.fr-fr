---
ms.assetid: d7a4d2e1-217d-4ffc-93f0-817149bd9e7f
title: Voies de compromis
description: ''
author: MicrosoftGuyJFlo
ms.author: joflore
manager: mtillman
ms.date: 05/31/2017
ms.topic: article
ms.prod: windows-server-threshold
ms.technology: identity-adds
ms.openlocfilehash: 916bffd4f83e5c72816035542772342010e1a67c
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/17/2019
ms.locfileid: "59874480"
---
# <a name="avenues-to-compromise"></a>Voies de compromis

>S'applique à : Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

*La loi Number Seven : Le réseau plus sécurisé est une bien administrée.* - [10 lois immuables de l’Administration de la sécurité](https://technet.microsoft.com/library/cc722488.aspx)  
  
Dans les organisations qui ont rencontré durant les événements catastrophiques compromission, évaluations révèlent généralement que les organisations ont limité à une visibilité sur l’état réel de leurs infrastructures informatiques, qui peut différer considérablement leur « comme expliqué » États. Ces écarts introduisent des failles qui exposent l’environnement à une compromission, souvent avec peu de risque de découverte jusqu'à ce que la compromission a évolué vers le point auquel les pirates efficacement « possèdent » l’environnement.  
  
Évaluations détaillées de configuration des services AD DS de ces organisations, les infrastructures à clé publiques (PKI), les serveurs, les stations de travail, applications, contrôle d’accès (ACL) et autres technologies de révèlent des erreurs de configuration et les vulnérabilités qui, si mis à jour, aurait pu éviter la compromission initiale.  
  
Analyse de la documentation, des processus et procédures informatiques identifie des failles d’introduits par des écarts dans les pratiques d’administration ont été exploitées par les pirates d’obtenir finalement les privilèges qui ont été utilisés pour compromettre la forêt Active Directory. Une forêt entièrement compromise est une dans laquelle les attaquants compromettent non seulement les systèmes individuels, des applications ou des comptes d’utilisateur, mais élever leur accès pour obtenir un niveau de privilège dans lequel ils peuvent modifier ou détruire tous les aspects de la forêt. Quand une installation d’Active Directory a été compromise à que degré, les attaquants peuvent apporter des modifications qui leur permettent de maintenir une présence tout au long de l’environnement, ou pire, de détruire le répertoire et les systèmes et les comptes qu’il gère.  
  
Même si un nombre de vulnérabilités courantes dans les descriptions qui suivent n’est pas des attaques par rapport à Active Directory, ils permettent aux attaquants de créer une brèche dans un environnement qui peut être utilisé pour exécuter l’élévation de privilèges (également appelée privilège élévation) les attaques et à long terme cibler et compromettre les services AD DS.  
  
Cette section de ce document se concentre sur la description des mécanismes qui les attaquants utilisent généralement pour accéder à l’infrastructure et finalement à lancer des attaques d’élévation de privilèges. Consultez également les sections suivantes :  
  
-   [En réduisant la Surface d’attaque Active Directory](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md) des recommandations détaillées pour la configuration sécurisée d’Active Directory.  
  
-   [Surveillance d’Active Directory pour les signes de compromettre](../../../ad-ds/plan/security-best-practices/Monitoring-Active-Directory-for-Signs-of-Compromise.md) recommandations pour aider à détecter toute compromission  
  
-   [Planification des compromis](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Planning-for-Compromise.md) approches de haut niveau pour aider à préparer des attaques contre l’infrastructure d’informatique et les perspectives métier  
  
> [!NOTE]  
> Bien que ce document se concentre sur les systèmes Active Directory et Windows qui font partie d’un domaine AD DS, les pirates sont rarement concentrer uniquement sur Active Directory et Windows. Dans les environnements avec un mélange de systèmes d’exploitation, des répertoires, des applications et des référentiels de données, il est courant pour rechercher que les systèmes non Windows ont également été compromis. Cela est particulièrement vrai si les systèmes de fournissent un « pont » entre Windows et les environnements non Windows, telles que les serveurs de fichiers accédé par les clients Windows et UNIX ou Linux, les répertoires qui fournissent des services d’authentification à plusieurs systèmes d’exploitation, ou méta-annuaires qui synchronisent les données au sein des annuaires disparates.  
>   
> Les services AD DS est ciblé en raison des fonctionnalités de gestion des accès et la configuration centralisées, qu'il fournit non seulement pour les systèmes Windows, mais également à d’autres clients. Tout autre répertoire ou une autre application qui fournit l’authentification et la configuration des services de gestion peut et ciblés par les pirates déterminés. Bien que ce document se concentre sur les protections qui peuvent réduire la probabilité d’une compromission des installations d’Active Directory, chaque organisation qui inclut les ordinateurs non Windows, référentiels de données, des applications ou des répertoires doivent également préparer attaques par rapport à ces systèmes.  
  
## <a name="initial-breach-targets"></a>Cibles de violation initiale  
Personne ne génère intentionnellement une infrastructure informatique qui expose l’organisation à compromettre. Lors de la construction d’une forêt Active Directory, il est généralement vierge et active. Passer des années et acquis des nouveaux systèmes d’exploitation et applications, elles sont ajoutées à la forêt. Comme les avantages de la facilité de gestion Active Directory offre sont reconnus, plus et plus le contenu est ajouté au répertoire, davantage de personnes intégrer leurs ordinateurs ou applications AD DS et domaines sont mis à niveau pour prendre en charge les nouvelles fonctionnalités offertes par le meilleur versions actuelles du système d’exploitation Windows. Que se passe-t-il également au fil du temps, cependant, est que même si une nouvelle infrastructure est ajoutée, autres parties de l’infrastructure ne peuvent pas être conservées aussi telles qu’elles étaient initialement, systèmes et applications fonctionnent correctement et par conséquent ne reçoivent pas attention et les organisations commencent à oublier qu’ils n’ont pas éliminées leur infrastructure héritée. Selon ce que nous voyons à évaluer les compromis d’infrastructures, les plus anciennes, plus grande et plus complexes l’environnement, plus il est probable qu’il existe de nombreuses instances de vulnérabilités courantes.  
  
Quelle que soit la motivation de la personne malveillante, la plupart des violations de sécurité commencent la compromission d’un ou deux systèmes à la fois. Ces événements initiales, ou les points d’entrée dans le réseau, souvent tirer parti des vulnérabilités qui peuvent avoir été résolues, mais qui n’étaient pas. Le [2012 données violation enquêtes rapport (DBIR)](http://www.verizonbusiness.com/resources/reports/rp_data-breach-investigations-report-2012_en_xg.pdf), qui est une étude annuelle produite par l’équipe Verizon de risques en coopération avec un nombre d’organismes de sécurité nationale et d’autres sociétés, stipule que 96 % des attaques sont introuvables » extrêmement difficile », et que « 97 % des violations ont été évitable via des contrôles simples ou intermédiaires. » Ces résultats peuvent être une conséquence directe des vulnérabilités courantes qui suivent.  
  
### <a name="gaps-in-antivirus-and-antimalware-deployments"></a>Écarts dans les Antivirus et les déploiements de logiciel anti-programme malveillant  
*La loi numéro huit : Un analyseur de programmes malveillants obsolètes n’est carrément guère mieux qu’aucun analyseur.* - [Dix lois immuables de sécurité (Version 2.0)](https://technet.microsoft.com/security/hh278941.aspx)  
  
Analyse des déploiements d’antivirus et anti-programme malveillant organisations révèle souvent un environnement dans lequel la plupart des stations de travail sont configurés avec un logiciel antivirus et anti-programme malveillant est activé et en cours. Les exceptions sont généralement des stations de travail qui se connectent rarement pour les appareils d’entreprise d’environnement ou de l’employé pour les antivirus et les logiciels anti-programme malveillant logiciels peuvent être difficiles à déployer, configurer et mettre à jour.  
  
Remplissages de serveur, cependant, sont généralement que moins bien protégé constamment dans de nombreux environnements compromis. Comme indiqué dans le [enquêtes de violation de données 2012](http://www.verizonbusiness.com/resources/reports/rp_data-breach-investigations-report-2012_en_xg.pdf)94 % des données de tous les serveurs concernés, risque de compromettre qui représente une augmentation de 18 % par rapport de l’année précédente et 69 pour cent d’attaques intégrée contre les programmes malveillants. Dans les alimentations de serveur, il n’est pas rare de trouver qu’installations antivirus et anti-programme malveillant sont configurées de façon incohérente, obsolète, mal configurées ou même désactivées. Dans certains cas, le logiciel antivirus et anti-programme malveillant est désactivé par le personnel d’administration, mais dans d’autres cas, les attaquants désactiver le logiciel après compromettre un serveur via d’autres vulnérabilités. Lorsque le logiciel antivirus et anti-programme malveillant est désactivé, les pirates puis envisagez de programmes malveillants sur le serveur et vous concentrer sur la propagation des compromis entre le nombre de serveurs.  
  
Il est important non seulement pour vous assurer que vos systèmes sont protégés avec protection contre les programmes malveillants en cours et complet, mais également pour analyser les systèmes pour la désactivation ou la suppression du logiciel antivirus et anti-programme malveillant et de redémarrer automatiquement la protection lorsqu’il est désactivé manuellement. Bien qu’aucun logiciel antivirus et anti-programme malveillant ne peut garantir la prévention et détection de toutes les infections, une implémentation antivirus et anti-programme malveillant est correctement configurée et déployée peut réduire les risques d’infection.  
  
### <a name="incomplete-patching"></a>Mise à jour corrective incomplète  
*La loi numéro 3 : Vous ne suivre des correctifs de sécurité, votre réseau n’est pas vous appartient de longue durée.* - [10 lois immuables de l’Administration de la sécurité](https://technet.microsoft.com/library/cc722488.aspx)  
  
Microsoft publie des bulletins de sécurité le deuxième mardi de chaque mois, bien que rare que les mises à jour de sécurité sont publiées entre les mises à jour de sécurité mensuel (ils sont également appelés mises à jour de « out-of-band ») lorsque la vulnérabilité est déterminée à poser un risque pour les systèmes clients. Si une petite entreprise configure ses ordinateurs Windows à utiliser la mise à jour de Windows pour gérer le système et mise à jour corrective d’une application ou une grande organisation utilise le logiciel de gestion tels que System Center Configuration Manager (SCCM) pour déployer les correctifs en fonction de détaillées, plans hiérarchiques, de nombreux clients patch leurs infrastructures Windows relativement rapidement.  
  
Toutefois, certaines infrastructures incluent uniquement les ordinateurs Windows et applications Microsoft, et dans les environnements compromis, il est courant pour trouver la stratégie de gestion des correctifs de l’entreprise contient des intervalles. Les systèmes Windows dans ces environnements sont corrigées incohérente. Les systèmes d’exploitation non-Windows sont corrigées sporadique, si possible. Des applications (COTS) commerciales prêtes à l’emploi contiennent des vulnérabilités pour lequel correctifs existent, mais n’ont pas été appliqués. Appareils de mise en réseau sont souvent configurées avec les informations d’identification par défaut et aucun microprogramme ans après leur installation des mises à jour. Applications et les systèmes d’exploitation qui ne sont plus prises en charge par leurs fournisseurs sont souvent conservés en cours d’exécution, malgré le fait peut ne plus être corrigés contre les vulnérabilités. Chacun de ces systèmes non corrigés représente un autre point d’entrée potentiels pour les attaquants.  
  
La « consumérisation » d’informatique a introduit des défis supplémentaires dans cet employé appartenant à des appareils sont utilisés pour accéder aux données personnels d’entreprise et l’organisation ne peut avoir peu à aucun contrôle sur la mise à jour corrective et la configuration des appareils personnels des employés. Matériel d’entreprise est généralement fournie avec les options de configuration de l’entreprise et des fonctionnalités de gestion, au prix de moins les choix de sélection de personnalisation et d’appareils individuelle. Axée sur les employés de matériel propose une gamme plus large de fabricants, fournisseurs, les fonctionnalités de sécurité matériel, les fonctionnalités de sécurité de logiciel, fonctionnalités de gestion et les options de configuration et les nombreuses fonctionnalités d’entreprise peuvent être absentes complètement.  
  
#### <a name="patch-and-vulnerability-management-software"></a>Logiciel de gestion de vulnérabilité et des correctifs  
Si un système de gestion efficace des correctifs est en place pour les systèmes de Windows et les applications Microsoft, la partie de la surface d’attaque qui créent des vulnérabilités non corrigées a été résolue. Toutefois, à moins que les systèmes non Windows, applications non-Microsoft, infrastructure réseau, les appareils des employés sont également mis à jour sur les correctifs et autres, l’infrastructure reste vulnérable. Dans certains cas, les fournisseurs d’une application peuvent proposer des fonctionnalités de mise à jour automatique ; dans d’autres cas, il peut être nécessaire pour concevoir une approche pour récupérer régulièrement et d’appliquer les correctifs et autres.
  
### <a name="outdated-applications-and-operating-systems"></a>Les Applications sont obsolètes et les systèmes d’exploitation  
*« Vous ne pouvez pas attendre un système d’exploitation de six ans pour vous protéger contre une attaque de six mois-vieux. »* -Professionnels de la sécurité informations de 10 ans d’expérience de sécurisation installations d’entreprise  
  
Bien que « obtenir actuelle, restez » peut sembler comme risque de créer une expression marketing, des systèmes d’exploitation obsolètes et des applications dans de nombreuses organisations infrastructures informatiques. Un système d’exploitation qui a été publié en 2003 peut toujours être pris en charge par le fournisseur et fourni avec les mises à jour pour répondre aux vulnérabilités, mais que le système d’exploitation ne peut pas contenir les fonctionnalités de sécurité ajoutées dans les versions plus récentes du système d’exploitation. D’anciens systèmes peuvent même pas besoin d’affaiblir d’une certaine configuration de sécurité AD DS pour prendre en charge les fonctionnalités moindre de ces ordinateurs.  
  
Les applications qui ont été écrites pour utiliser les protocoles d’authentification hérités par les fournisseurs qui ne sont plus prenez en charge l’application généralement ne peut pas être remaniées pour prendre en charge les mécanismes d’authentification renforcés. Toutefois, domaine d’Active Directory d’une organisation peut toujours être configuré pour stocker les hachages LAN Manager ou des mots de passe chiffrés réversible pour prendre en charge ces applications. Les applications écrites avant l’introduction de nouveaux systèmes d’exploitation peut ne pas fonctionnent correctement ou sur les systèmes d’exploitation actuels, nécessitant aux organisations de maintenir les anciens systèmes plus anciens et dans certains cas, le matériel complètement non pris en charge et le logiciel.  
  
Même dans les cas dans lesquels les organisations ont mis à jour les contrôleurs de domaine à Windows Server 2012, Windows Server 2008 R2 ou Windows Server 2008, il est courant de rechercher des parties importantes du membre de l’alimentation de serveur pour exécuter Windows Server 2003, Windows 2000 server ou Windows NT Server 4.0 (qui sont complètement non pris en charge). Plus une organisation gère les systèmes de vieillissement, plus la disparité entre les ensembles de fonctionnalités se développe et plus probable est que les systèmes de production sera non pris en charge. En outre, plus une forêt Active Directory est conservée, plus nous observons que les applications et les systèmes hérités sont pas incluses dans les plans de mise à niveau. Cela peut signifier qu’un seul ordinateur exécutant une seule application peut introduire des vulnérabilités de l’échelle du domaine ou de forêt, car Active Directory est configuré pour prendre en charge ses protocoles hérités et les mécanismes d’authentification.  
  
Pour éliminer les applications et les systèmes hérités, vous devez tout d’abord vous concentrer sur l’identification et les catalogues, puis sur la détermination de si vous souhaitez mettre à niveau ou remplacer l’application ou l’hôte. Bien qu’il peut être difficile de trouver des remplacements pour les applications hautement spécialisées qui n’est ni prise en charge, ni un chemin d’accès de mise à niveau, vous pourrez tirer parti d’un concept appelé « destruction creative » pour remplacer l’application héritée par une nouvelle application qui fournit les fonctionnalités nécessaires. [Planification des compromis](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Planning-for-Compromise.md) est décrite plus en détail dans « Planification de compromission » plus loin dans ce document.  
  
### <a name="misconfiguration"></a>Misconfiguration  
*La loi numéro quatre : Il ne fait pas très utile pour installer des correctifs de sécurité sur un ordinateur qui a été sécurisé jamais pour commencer.* - [10 lois immuables de l’Administration de la sécurité](https://technet.microsoft.com/library/cc722488.aspx)  
  
Même dans des environnements où systèmes sont généralement conservées actuel et corrigée, nous couramment identifier vides et les erreurs de configuration dans le système d’exploitation, les applications s’exécutant sur des ordinateurs et Active Directory. Certaines erreurs de configuration exposent uniquement l’ordinateur local pour compromettre, mais une fois un ordinateur est « propriétaire », les attaquants consacrer généralement propager davantage le compromis entre les autres systèmes, puis finalement sur Active Directory. Voici quelques-uns des problèmes plus courants dans lesquels nous identifier les configurations qui présentent des risques.  
  
#### <a name="in-active-directory"></a>Dans Active Directory  
Les comptes dans Active Directory qui sont couramment ciblés par des personnes malveillantes sont ceux qui sont membres des groupes disposant de privilèges plus élevés, tels que les membres de l’Admins du domaine (DA), les administrateurs d’entreprise (EA) ou des groupes d’administrateurs (BA) intégrés dans Active Répertoire. L’appartenance de ces groupes doit être réduite au plus petit nombre de comptes possible afin que la surface d’attaque de ces groupes est limitée. Il est même possible éliminer l’appartenance aux « permanent » ces groupes disposant de privilèges ; Autrement dit, vous pouvez implémenter des paramètres qui vous permettent d’ajouter temporairement des groupes uniquement lorsque leurs privilèges à l’échelle du domaine et de forêt sont nécessaires. Lorsque les comptes à privilèges élevés sont utilisés, ils doivent être utilisés uniquement sur les systèmes désignés, sécurisées telles que les contrôleurs de domaine ou des hôtes d’administration sécurisés. Des informations détaillées pour aider à implémenter l’ensemble de ces configurations sont fournies dans [en réduisant la Surface d’attaque Active Directory](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md).  
  
Lorsque nous évaluons l’appartenance des groupes privilégiés la plus élevées dans Active Directory, nous trouver couramment appartenance excessive dans les trois des groupes plus privilégié. Dans certains cas, les organisations ont des dizaines, voire des centaines de comptes dans les groupes de DA. Dans d’autres cas, les organisations placent des comptes directement dans le groupe Administrateurs intégré, pensant que le groupe est « moins privilégié » que le groupe DAs. Il n’est pas le cas. Il est fréquent un certain nombre de membres permanents du groupe EA dans le domaine racine de forêt, en dépit du fait que des privilèges EA sont rarement et temporairement requis. Recherche de compte d’administration quotidiennes d’un utilisateur de l’informatique dans toutes les trois groupes est également courant, bien qu’il s’agit d’une configuration redondante efficacement. Comme décrit dans [en réduisant la Surface d’attaque Active Directory](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md), si un compte est un membre permanent d’un de ces groupes ou la totalité d'entre eux, le compte peut être utilisé pour compromettre et même détruire l’environnement AD DS et les systèmes et comptes gérés par celui-ci. Recommandations pour la configuration sécurisée et l’utilisation des comptes privilégiés dans Active Directory sont fournies dans [en réduisant la Surface d’attaque Active Directory](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md).  
  
#### <a name="on-domain-controllers"></a>Sur les contrôleurs de domaine  
Lorsque nous évaluer des contrôleurs de domaine, nous avons trouvé souvent les trouver configuré et géré pas différemment des serveurs membres. Contrôleurs de domaine exécutent parfois les mêmes applications et utilitaires installés sur les serveurs membres, pas car ils sont nécessaires sur les contrôleurs de domaine, mais étant donné que les applications font partie d’une build standard. Ces applications peuvent fournir des fonctionnalités minimales sur les contrôleurs de domaine mais accroître de façon significative la surface d’attaque en exigeant que le paramètre de configuration qui ouvrir des ports, créez les comptes de service disposant de privilèges élevés ou accorder l’accès au système par les utilisateurs qui doit pas se connecter à un contrôleur de domaine à des fins autres que l’authentification et l’application de la stratégie de groupe. Dans certaines failles, les attaquants ont utilisé les outils déjà installés sur les contrôleurs de domaine non seulement accéder aux contrôleurs de domaine, mais de modifier ou endommager la base de données AD DS.  
  
Lorsque nous extrayons les paramètres de configuration d’Internet Explorer sur les contrôleurs de domaine, nous trouvons que les utilisateurs ont une session avec les comptes qui ont des niveaux élevés de privilèges dans Active Directory et ont utilisé les comptes pour accéder à l’Internet et intranet à partir du domaine contrôleurs. Dans certains cas, les comptes ont configuré les paramètres de Internet Explorer sur les contrôleurs de domaine pour autoriser le téléchargement d’Internet contenu, et les utilitaires logiciels gratuits ont été téléchargés à partir de sites Internet et installés sur les contrôleurs de domaine. La Configuration de sécurité renforcée d’Internet Explorer est activée pour les utilisateurs et administrateurs par défaut, mais que nous observons souvent c'est-à-dire a été désactivé pour les administrateurs. Lorsqu’un compte disposant de privilèges élevés accède à Internet et télécharge du contenu à n’importe quel ordinateur, cet ordinateur est menacée graves. Lorsque l’ordinateur est un contrôleur de domaine, l’ensemble de l’installation AD DS est mettre en péril.  
  
##### <a name="protecting-domain-controllers"></a>Protection des contrôleurs de domaine  
Contrôleurs de domaine doivent traités en tant que composants d’infrastructure critiques sécurisés plus stricte et configurés de manière plus rigoureuse que le fichier, d’impression et de serveurs d’applications. Contrôleurs de domaine ne doivent pas s’exécuter tout logiciel qui n’est pas requis pour le contrôleur de domaine de la fonction ou ne protège pas le contrôleur de domaine contre les attaques. Contrôleurs de domaine ne doivent pas être autorisés à accéder à Internet, et les paramètres de sécurité doivent être configurées et appliquées par les objets de stratégie de groupe (GPO). Fournit des recommandations détaillées pour l’installation en toute sécurité, la configuration et la gestion des contrôleurs de domaine dans [sécurisation de contrôleurs de domaine contre les attaques](../../../ad-ds/plan/security-best-practices/Securing-Domain-Controllers-Against-Attack.md).  
  
#### <a name="within-the-operating-system"></a>Au sein du système d’exploitation  
*La loi numéro 2 : Si une personne malintentionnée peut modifier le système d’exploitation sur votre ordinateur, il n’est plus votre ordinateur.* - [Dix lois immuables de sécurité (Version 2.0)](https://technet.microsoft.com/security/hh278941.aspx)  
  
Bien que certaines organisations créer des configurations de base pour les serveurs de différents types et permettent une personnalisation limitée du système d’exploitation après son installation, analyse des environnements compromis aborde souvent grand nombre de serveurs déployés dans un une manière ad hoc et configuré manuellement et séparément. Configurations entre deux serveurs effectuant la même fonction peuvent être complètement différentes, où aucun serveur est configuré de manière sécurisée. À l’inverse, lignes de base de configuration de serveur peuvent être appliquées de manière cohérente, mais également de manière cohérente mal configurés ; Autrement dit, les serveurs sont configurés de manière qui crée la vulnérabilité même sur tous les serveurs d’un type donné. Une mauvaise configuration inclut des pratiques telles que la désactivation des fonctionnalités de sécurité, accordez des droits excessifs et des autorisations aux comptes (notamment les comptes de service), utilisez des informations d’identification locales identiques entre les systèmes et autorisant l’installation de applications non autorisées et utilitaires qui créent des vulnérabilités de leurs propres.  
  
##### <a name="disabling-security-features"></a>La désactivation des fonctionnalités de sécurité  
Les organisations désactivent parfois le pare-feu Windows avec sécurité avancée (WFAS) en dehors d’une croyance que WFAS est difficile à configurer ou requiert une configuration de travail gourmandes en. Toutefois, depuis Windows Server 2008, quand une fonctionnalité ou un rôle est installée sur un serveur, il est configuré par défaut avec les privilèges minimum requis pour le rôle ou la fonctionnalité de la fonction, et le pare-feu Windows est automatiquement configuré pour prendre en charge le rôle ou une fonctionnalité. En désactivant WFAS (et ne pas à l’aide d’un autre pare-feu basé sur l’hôte à la place), les organisations augmenter la surface d’attaque de l’ensemble de l’environnement Windows. Les pare-feux de périmètre fournissent une protection contre les attaques qui ciblent directement un environnement à partir d’Internet, mais ils n’offrent aucune protection contre les attaques qui exploitent les autres vecteurs d’attaque tel que [de téléchargement](https://www.microsoft.com/security/sir/glossary/drive-by-download-sites.aspx) les attaques ou les attaques provenant d’autres systèmes compromis sur l’intranet.  
  
Paramètres de contrôle de compte d’utilisateur sont parfois désactivés sur les serveurs, car le personnel administratif trouver les invites intrusive. Bien que [article du Support Microsoft 2526083](https://support.microsoft.com/kb/2526083) décrit des scénarios dans lesquels UAC peut être désactivé sur Windows Server, sauf si vous exécutez un serveur core installation (où UAC est désactivée par défaut), vous ne devez pas désactiver l’UAC sur les serveurs sans une attention particulière et de recherche.  
  
Dans d’autres cas, les paramètres du serveur sont configurés pour le moins sécurisé valeurs étant donné que les organisations appliquent les paramètres de configuration de serveur obsolètes pour les nouveaux systèmes d’exploitation, telles que l’application des lignes de base de Windows Server 2003 sur des ordinateurs exécutant Windows Server 2012, Windows Server 2008 R2 ou Windows Server 2008, sans modifier les lignes de base pour refléter les modifications dans le système d’exploitation. Au lieu de poursuivre les anciennes configurations de base pour les nouveaux systèmes d’exploitation, lors du déploiement d’un nouveau système d’exploitation, passez en revue les modifications de sécurité et les paramètres de configuration pour vous assurer que les paramètres implémentés sont appropriées pour le nouveau système d’exploitation et le cas échéant.  
  
##### <a name="granting-excessive-privilege"></a>Accorder un privilège excessif  
Dans presque tous les environnements que nous avons évalué, excessive est accordée aux comptes locaux et basés sur un domaine sur les systèmes Windows. Les utilisateurs bénéficient de droits d’administrateur local sur leurs stations de travail, exécuter les services qui sont configurés avec des droits au-delà de ce que dont ils ont besoin pour fonctionner, les serveurs membres et des groupes d’administrateurs locaux tous les serveurs contiennent des dizaines ou même des centaines de comptes locaux et de domaine. Compromission de qu’un seul compte privilégié sur un ordinateur permet aux attaquants de compromettre les comptes de chaque utilisateur et un service qui se connecte à l’ordinateur et aux informations d’identification ont été publiées et tirer parti pour propager la compromission à d’autres systèmes.  
  
Bien que pass-the-hash (PTH) et autres attaques de vol d’informations d’identification sont très répandues aujourd'hui, qu'il est, car il existe des outils disponibles gratuitement qui permet de facilement et facile d’extraire les informations d’identification des autres comptes privilégiés lorsqu’une personne malveillante a acquise administrateur- ou l’accès au niveau du système sur un ordinateur. Même sans les outils qui permet la collecte d’informations d’identification à partir d’ouvertures de session, un pirate ayant un accès privilégié à un ordinateur peut tout aussi facilement installer des enregistreurs de frappe qui capturent les séquences de touches, les captures d’écran et le contenu du Presse-papiers. Un pirate ayant un accès privilégié à un ordinateur peut désactiver le logiciel anti-programme malveillant, installer les rootkits, modifier des fichiers protégés ou installer des logiciels malveillants sur l’ordinateur qui automatise les attaques ou Active/désactive un serveur dans un [de téléchargement](https://www.microsoft.com/security/sir/glossary/drive-by-download-sites.aspx) hôte.  
  
Varient les tactiques utilisées pour étendre une violation au-delà d’un seul ordinateur, mais la clé à la propagation des compromis est l’acquisition d’un accès hautement privilégié à d’autres systèmes. En réduisant le nombre de comptes avec accès privilégié à n’importe quel système, vous réduisez la surface d’attaque non seulement de cet ordinateur, mais la probabilité qu’un attaquant capture les informations d’identification sensibles à partir de l’ordinateur.  
  
##### <a name="standardizing-local-administrator-credentials"></a>Normalisation des informations d’identification d’administrateur Local  
Il est depuis longtemps débat entre les experts en sécurité devant s’il y a de valeur au changement de nom des comptes administrateur locaux sur les ordinateurs Windows. Ce qui est réellement important sur les comptes d’administrateur locales est qu’ils sont configurés avec les mêmes nom d’utilisateur et mot de passe sur plusieurs ordinateurs.  
  
Si le compte administrateur local est nommé à la même valeur sur les serveurs et le mot de passe affecté au compte est également configuré avec la même valeur, les attaquants peuvent extraire des informations d’identification du compte sur un ordinateur sur lequel l’accès administrateur ou au niveau du système a été obtenu. L’attaquant ne devra pas initialement compromettre le compte d’administrateur ; ils doivent uniquement compromettre le compte d’un utilisateur qui est membre du groupe Administrateurs local ou d’un compte de service qui est configuré pour s’exécuter en tant que LocalSystem ou avec des privilèges d’administrateur. L’attaquant peut extraire les informations d’identification pour le compte administrateur, puis relire ces informations d’identification dans les connexions réseau à d’autres ordinateurs sur le réseau.  
  
Tant qu’un autre ordinateur a un compte local avec le même nom d’utilisateur et mot de passe (ou hachage de mot de passe) en tant que les informations d’identification de compte sont en cours de présentation, la tentative d’ouverture de session réussit et l’attaquant obtient un accès privilégié à l’ordinateur ciblé. Dans les versions actuelles de Windows, le compte administrateur intégré est [désactivée par défaut](https://technet.microsoft.com/library/cc753450.aspx), mais dans les systèmes d’exploitation hérités, le compte est activé par défaut.  
  
> [!NOTE]  
> Certaines organisations ont intentionnellement configuré des comptes d’administrateur locales doit être activé parce que cela fournit un « basculement » dans le cas où toutes les autres comptes privilégiés sont verrouillés en dehors d’un système. Toutefois, même si le compte d’administrateur local est désactivé, et aucun autre compte disponibles qui peuvent activer le compte ou ouvrez une session sur le système avec des privilèges d’administrateur, le système peut être démarré en mode sans échec et le compte administrateur local intégré compte peut être réactivé, comme décrit dans [article du Support Microsoft 814777](https://support.microsoft.com/kb/814777). En outre, si le système applique toujours correctement la stratégie de groupe, un objet de stratégie de groupe peut être modifié pour (temporairement) réactiver le compte d’administrateur, ou groupes restreints peuvent être configurés pour ajouter un compte de domaine au groupe Administrateurs local. Réparations peuvent être effectuées et le compte d’administrateur peut à nouveau être désactivé. Pour empêcher un compromis latéral qui utilise d’identification administrateur locale intégrée, les mots de passe et noms d’utilisateur unique doivent être configurés pour les comptes administrateur locaux. Pour déployer des mots de passe uniques pour les comptes administrateur locaux via un objet de stratégie de groupe, consultez [Solution pour la gestion de mot de passe du compte administrateur intégré via un GPO](https://technet.microsoft.com/mt227395.aspx) sur technet.  
  
##### <a name="permitting-installation-of-unauthorized-applications"></a>Autoriser l’Installation d’Applications non autorisées  
*La loi numéro un : Si une personne malintentionnée peut vous persuader d’exécuter son programme sur votre ordinateur, il n’est plus uniquement sur votre ordinateur.* - [Dix lois immuables de sécurité (Version 2.0)](https://technet.microsoft.com/security/hh278941.aspx)  
  
Si une organisation déploie des paramètres de base cohérente entre les serveurs, l’installation d’applications qui ne font pas partie du rôle défini d’un serveur ne doit pas être autorisée. En autorisant l’installation du logiciel qui ne fait pas partie de la fonctionnalité désigné d’un serveur, les serveurs sont exposés à une installation accidentelle ou malveillante des logiciels qui augmentent la surface d’attaque du serveur, qui présente des vulnérabilités des applications ou provoque instabilité du système.  
  
#### <a name="applications"></a>Applications  
Comme indiqué précédemment, les applications sont souvent installées et configurées pour utiliser des comptes disposant de que plus de privilèges que l’application a besoin. Dans certains cas, la documentation d’application spécifie que les comptes de service doivent être membres du groupe d’administrateurs local d’un serveur ou qu’il doivent être configurés pour s’exécuter dans le contexte de privilèges LocalSystem. Cela est souvent pas car l’application nécessite ces droits, mais parce que la détermination des droits et les autorisations besoin de comptes de service d’une application nécessite des investissements dans plus de temps et d’efforts. Si une application n’installe pas avec les privilèges minimaux requis pour l’application et ses composants configurés fonctionner, le système est exposé aux attaques qui exploitent des privilèges d’application sans une attaque contre le système d’exploitation lui-même.  
  
### <a name="lack-of-secure-application-development-practices"></a>Absence de pratiques de développement d’applications sécurisées  
Infrastructure existe pour prendre en charge les charges de travail métier. Où ces charges de travail sont implémentés dans des applications personnalisées, il est essentiel de garantir que les applications sont développées à l’aide des méthodes conseillées. Analyse des causes premières des incidents de l’entreprise révèle souvent qu’une compromission initiale est effectuée via custom applications-en particulier celles qui sont Internet face. La plupart de ces compromis est réalisée par le biais de compromission des attaques connues telles que l’injection SQL (SQLi) et les attaques par script intersites (XSS).  
  
L’Injection SQL est une vulnérabilité des applications qui autorise l’entrée défini par l’utilisateur modifier une instruction SQL qui est passée à la base de données pour l’exécution. Cette entrée peut être fournie via un champ dans l’application, d’un paramètre (par exemple, la chaîne de requête ou un cookie) ou d’autres méthodes. Le résultat de cette injection est que l’instruction SQL fournie à la base de données est fondamentalement différente de ce que le développeur que prévu. Prenons, par exemple, une requête courante utilisée dans l’évaluation d’une combinaison nom/mot de passe d’utilisateur :  
  
`SELECT userID FROM users WHERE username = 'sUserName' AND password = 'sPassword'`  
  
Lorsque cela est reçue par le serveur de base de données, il indique au serveur pour consulter le tableau des utilisateurs et retourner n’importe quel enregistrement de nom d’utilisateur dont le nom d’utilisateur et le mot de passe correspondent à celles fournies par l’utilisateur (probablement via un formulaire de connexion quelconque). Naturellement l’intention du développeur est dans ce cas afin de retourner uniquement un enregistrement valide si un nom d’utilisateur et le mot de passe peuvent être fournis par l’utilisateur. Si un est incorrect, le serveur de base de données sera impossible de trouver un enregistrement correspondant et retourner un résultat vide.  
  
Le problème se produit lorsqu’une personne malveillante effectue un événement inattendu comme fournissant leur propres SQL à la place de données valide. Étant donné que SQL est interprétée à la volée par le serveur de base de données, le code injecté serait traité comme si le développeur a placer dans lui-même. Par exemple, si l’attaquant entré **administrateur** pour l’ID d’utilisateur et **xyz** ou **1 = 1** comme mot de passe, l’instruction obtenue traitée par la base de données serait :  
  
`SELECT userID FROM users WHERE username = 'administrator' AND password = 'xyz' OR 1=1`  
  
Lorsque cette requête est traitée par le serveur de base de données, toutes les lignes de la table seront affichera dans la requête, car 1 = 1 est toujours évaluée sur True, par conséquent, que peu importe si le bon nom d’utilisateur et le mot de passe est altéré ou fourni. Dans la plupart des cas en résulte que l’utilisateur doivent être enregistré que le premier utilisateur dans la base de données utilisateur ; dans la plupart des cas, il s’agit de l’utilisateur administratif.  
  
Outre la connexion simplement sur les instructions SQL incorrectes, comme cela peut être utilisé pour ajouter, supprimer, ou modifier des données ou même supprimer (delete) des tables entières à partir d’une base de données. Dans les cas extrêmes où SQLi est combiné avec un privilège excessif, vous peuvent exécuter des commandes de système d’exploitation pour permettre la création de nouveaux utilisateurs, pour télécharger les outils d’attaque, ou à prendre d’autres mesures de l’attaquant.  
  
Dans les scripts intersites, la vulnérabilité est introduite dans la sortie de l’application. Une attaque commence par une personne malveillante en fournissant des données mal formées à l’application, mais dans ce cas les données mal formées sont sous la forme d’un code de script (par exemple, JavaScript) qui est exécutée par le navigateur de la victime. Exploitation d’une vulnérabilité XSS un attaquant peut exécuter toutes les fonctions de l’application cible dans le contexte de l’utilisateur qui a lancé le navigateur. Les attaques XSS sont généralement initiées par un e-mail de phishing encourager l’utilisateur clique sur un lien qui se connecte à l’application et exécute le code de l’attaque.  
  
XSS est souvent exploitée dans des scénarios de commerce électronique où un attaquant peut effectuer des achats ou transférer des fonds dans le contexte de l’utilisateur exploité et opérations bancaires en ligne. Dans le cas d’une attaque ciblée sur une application de gestion d’identité personnalisé basé sur le web, il peut permettre à un attaquant créer leurs propres identités, modifier les droits et autorisations et entraîner une compromission systémique.  
  
Bien que la description complète de scripts entre sites et injection de code SQL est en dehors de la portée de ce document, le [Open Web Application Security Project (OWASP)](https://www.owasp.org/index.php/Main_Page) publie une liste des 10 premiers avec une présentation détaillée des vulnérabilités et les contre-mesures.  
  
Quel que soit l’investissement dans la sécurité de l’infrastructure, si mal conçues et écrites des applications sont déployées au sein de cette infrastructure, l’environnement est effectué vulnérable aux attaques. Infrastructures même bien sécurisés ne peut pas fournissent souvent des contre-mesures efficaces à ces attaques de l’application. Pour résoudre ce problème, les applications mal conçues peuvent nécessiter que les comptes de service avoir des autorisations excessives pour l’application de la fonction.  
  
Microsoft Security Development Lifecycle (SDL) est un ensemble de contrôles de processus structurelles qui fonctionnent pour améliorer le début de sécurité au début de la configuration requise de collecte et l’extension via le cycle de vie de l’application jusqu'à ce qu’il est désactivé. Cette intégration de contrôles de sécurité efficace n'est pas uniquement critique du point de vue de la sécurité, il est essentiel de garantir que la sécurité de l’application est coût et planifier efficace. Évaluer une application pour les problèmes de sécurité lorsqu’il est effectivement code terminé, les organisations pour prendre des décisions concernant la sécurité des applications uniquement avant ou même une fois que l’application a été déployée. Une organisation peut choisir de résoudre des défauts de l’application avant de déployer l’application en production, encourir des coûts et des retards, ou l’application peut être déployée en production avec des failles de sécurité connus, exposition de l’organisation à compromettre.  
  
Certaines organisations placent le coût total de résolution d’un problème de sécurité dans le code de production supérieure à 10 000 $ par problème, et les applications développées sans un SDL efficace peuvent calculer la moyenne plus de dix problèmes de niveau de gravité élevé par 100 000 lignes de code. Dans les grandes applications, les coûts, faire remonter rapidement. En revanche, de nombreuses entreprises définir un banc d’essai de moins d’un problème par 100 000 lignes de code à l’étape de révision de code final du SDL et visent zéro problèmes dans les applications à haut risque en production.  
  
Implémentation du SDL améliore la sécurité en incluant les exigences de sécurité au début de la collecte des exigences et de la conception d’une application fournit la modélisation des menaces pour les applications à haut risque. nécessite une formation efficace et une surveillance de développeurs. et nécessite en clair, des normes de code cohérent et pratiques. L’effet net d’un SDL est des améliorations significatives dans la sécurité des applications tout en réduisant le coût pour développer, déployer, maintenir et mettre hors service d’une application. Bien qu’une présentation détaillée de la conception et implémentation du SDL sont dépasse le cadre de ce document, reportez-vous à la [Microsoft Security Development Lifecycle](https://www.microsoft.com/security/sdl/default.aspx) pour obtenir des instructions détaillées et des informations.  
  


